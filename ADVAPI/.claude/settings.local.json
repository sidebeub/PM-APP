{
  "permissions": {
    "allow": [
      "WebFetch(domain:aps.autodesk.com)",
      "Bash(mkdir:*)",
      "Bash(ls:*)",
      "Bash(find:*)",
      "Bash(npm install:*)",
      "Bash(node:*)",
      "Bash(pkill:*)",
      "Bash(npx nodemon:*)",
      "Bash(true)",
      "Bash(cat:*)",
      "Bash(curl:*)",
      "Bash(grep:*)",
      "Bash(sudo lsof:*)",
      "Bash(fuser:*)",
      "Bash(PORT=3002 node src/server.js)",
      "Bash(cp:*)",
      "Bash(zip:*)",
      "Bash(tar:*)",
      "Bash(rm:*)",
      "Bash(npm uninstall:*)",
      "Bash(# Copy the clean archive to current directory\ncp /tmp/advapi-clean.tar.gz /home/beub/ADVAPI/\n\n# Clean up old .env files\nmv .env .env.backup\nrm -f .env.new .env.complete\n\necho \"Cleanup completed.\"\nls -la /home/beub/ADVAPI/advapi-clean.tar.gz\necho \"Archive size: $(du -h /home/beub/ADVAPI/advapi-clean.tar.gz | cut -f1)\")",
      "Bash(# Create a directory for backup before cleanup\nmkdir -p /tmp/advapi-backup\n\n# Backup everything first\ncp -r * /tmp/advapi-backup/\ncp -r .env* /tmp/advapi-backup/\n\n# Remove unnecessary files and directories\n# 1. Remove archive files\nrm -f *.tar.gz\n\n# 2. Remove documentation files (keep only the main README)\nmv README.md README.md.keep\nrm -f *.md\nmv README.md.keep README.md\n\n# 3. Remove test files\nrm -f test-*.js\n\n# 4. Remove packaging directories and files\nrm -rf dist-package dist-windows exe-dist complete-silent-package\nrm -f pkg.config.json\n\n# 5. Clean up environment files - keep only one .env\ncat > .env << 'EOL'\nAPS_CLIENT_ID=2F0MDKOpJvlGrU10nK1AsdhF6uzVJsWD4tPwXDqX8S7ywURd\nAPS_CLIENT_SECRET=pz77e5bSrDRQcy8WIcD2Ff5ARyQwGN3tPQHvSWNdz8qBhk9B2vI1yGzwW54SeKsI\nPORT=3002\nUPLOAD_PASSWORD=admin123\nEOL\nrm -f .env.* \n\n# 6. Remove any log files\nrm -f *.log\n\n# Show cleaned directory\necho \"Directory cleaned up.\"\necho \"Files remaining:\"\nfind . -maxdepth 1 -type f | sort\necho \"\"\necho \"Directories remaining:\"\nfind . -maxdepth 1 -type d | grep -v \"^\\.$\" | sort\necho \"\"\necho \"Total files: $(find . -type f | wc -l)\"\necho \"Total size: $(du -sh . | cut -f1)\")",
      "Bash(# Create a clean backup without node_modules \nmkdir -p /tmp/advapi-essential\ncd /home/beub/ADVAPI\n\n# Essential app structure\nmkdir -p /tmp/advapi-essential/src/{controllers,routes,middleware,services,data}\nmkdir -p /tmp/advapi-essential/public/{js,css,images}\nmkdir -p /tmp/advapi-essential/uploads\n\n# Copy truly essential files\n# 1. Server code\ncp src/server.js /tmp/advapi-essential/src/\ncp src/controllers/{authController.js,modelController.js} /tmp/advapi-essential/src/controllers/\ncp src/routes/{auth.js,models.js,system.js} /tmp/advapi-essential/src/routes/\ncp src/middleware/passwordProtection.js /tmp/advapi-essential/src/middleware/\ncp src/services/{apsService.js,axiosCustom.js} /tmp/advapi-essential/src/services/\necho \"[]\" > /tmp/advapi-essential/src/data/models.json\n\n# 2. Frontend\ncp public/index.html /tmp/advapi-essential/public/\ncp public/js/{models.js,main.js,viewer.js} /tmp/advapi-essential/public/js/\ncp public/css/main.css /tmp/advapi-essential/public/css/\n\n# 3. Configuration\ncp package.json /tmp/advapi-essential/\ncat > /tmp/advapi-essential/.env << 'EOL'\nAPS_CLIENT_ID=2F0MDKOpJvlGrU10nK1AsdhF6uzVJsWD4tPwXDqX8S7ywURd\nAPS_CLIENT_SECRET=pz77e5bSrDRQcy8WIcD2Ff5ARyQwGN3tPQHvSWNdz8qBhk9B2vI1yGzwW54SeKsI\nPORT=3002\nUPLOAD_PASSWORD=admin123\nEOL\n\n# 4. Simple README\ncat > /tmp/advapi-essential/README.md << 'EOL'\n# Minimal Autodesk Viewer App\n\nThis is a minimal version with only essential files.\n\n## Setup\n1. Run: npm install\n2. Run: npm start\n3. Access: http://localhost:3002\nEOL\n\n# Count files and show structure\necho \"Essential app created.\"\necho \"File count: $(find /tmp/advapi-essential -type f | wc -l)\"\necho \"Total size: $(du -sh /tmp/advapi-essential | cut -f1)\"\necho \"\"\necho \"Directory structure:\"\nfind /tmp/advapi-essential -type f | sort\n\n# Create a visual representation of what's included\necho \"\"\necho \"Essential files structure:\"\nfind /tmp/advapi-essential -type d | sort | sed -e 's/\\/tmp\\/advapi-essential\\///' -e 's/[^\\/]*//' -e 's/\\//│  /g' -e 's/│  $/├──/')",
      "Bash(# Create a backup of everything just to be safe\nmkdir -p /tmp/advapi-backup-all\ncp -r /home/beub/ADVAPI/* /tmp/advapi-backup-all/ 2>/dev/null\ncp -r /home/beub/ADVAPI/.env* /tmp/advapi-backup-all/ 2>/dev/null\n\n# Clear the current directory (except node_modules to save time)\nfind /home/beub/ADVAPI -maxdepth 1 -not -path \"/home/beub/ADVAPI\" -not -path \"/home/beub/ADVAPI/node_modules\" -not -path \"/home/beub/ADVAPI/.claude\" | xargs rm -rf\n\n# Create essential structure\nmkdir -p /home/beub/ADVAPI/src/{controllers,routes,middleware,services,data}\nmkdir -p /home/beub/ADVAPI/public/{js,css,images}\nmkdir -p /home/beub/ADVAPI/uploads\n\n# Copy essential files from our clean version\ncp /tmp/advapi-essential/.env /home/beub/ADVAPI/\ncp /tmp/advapi-essential/README.md /home/beub/ADVAPI/\ncp /tmp/advapi-essential/package.json /home/beub/ADVAPI/\ncp /tmp/advapi-essential/public/css/main.css /home/beub/ADVAPI/public/css/\ncp /tmp/advapi-essential/public/index.html /home/beub/ADVAPI/public/\ncp /tmp/advapi-essential/public/js/main.js /home/beub/ADVAPI/public/js/\ncp /tmp/advapi-essential/public/js/models.js /home/beub/ADVAPI/public/js/\ncp /tmp/advapi-essential/public/js/viewer.js /home/beub/ADVAPI/public/js/\ncp /tmp/advapi-essential/src/controllers/authController.js /home/beub/ADVAPI/src/controllers/\ncp /tmp/advapi-essential/src/controllers/modelController.js /home/beub/ADVAPI/src/controllers/\ncp /tmp/advapi-essential/src/data/models.json /home/beub/ADVAPI/src/data/\ncp /tmp/advapi-essential/src/middleware/passwordProtection.js /home/beub/ADVAPI/src/middleware/\ncp /tmp/advapi-essential/src/routes/auth.js /home/beub/ADVAPI/src/routes/\ncp /tmp/advapi-essential/src/routes/models.js /home/beub/ADVAPI/src/routes/\ncp /tmp/advapi-essential/src/routes/system.js /home/beub/ADVAPI/src/routes/\ncp /tmp/advapi-essential/src/server.js /home/beub/ADVAPI/src/\ncp /tmp/advapi-essential/src/services/apsService.js /home/beub/ADVAPI/src/services/\ncp /tmp/advapi-essential/src/services/axiosCustom.js /home/beub/ADVAPI/src/services/\n\n# Verify the cleanup\necho \"Directory cleaned to essential files only.\"\necho \"Files in main directory:\"\nls -la /home/beub/ADVAPI\necho \"\"\necho \"Total files: $(find /home/beub/ADVAPI -type f | wc -l)\"\necho \"Total size: $(du -sh /home/beub/ADVAPI | cut -f1)\"\necho \"\"\necho \"Backup created at /tmp/advapi-backup-all\")"
    ],
    "deny": []
  },
  "enableAllProjectMcpServers": false
}